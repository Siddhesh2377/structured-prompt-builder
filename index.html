<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Structured Prompt Builder | Free AI Prompt Engineering Tool</title>
    <link rel="canonical" href="https://structured-prompt-builder.vercel.app/" />

    <!-- Primary Meta -->
    <meta name="title" content="Structured Prompt Builder | Free AI Prompt Engineering Tool" />
    <meta name="description" content="Free, browser‑based Structured Prompt Builder. Create prompts with role, task, constraints, steps, inputs, and examples. Export JSON, YAML, Markdown. Save to local library. Gemini optimizer included." />
    <meta name="keywords" content="structured prompt builder, ai prompt builder, prompt engineering tool, free prompt tool, json schema prompts, yaml prompts, markdown prompts, few-shot examples, gemini optimizer, ai writing tool, open source prompt builder, browser prompt builder, local prompt library, free ai tools, prompt templates, llm prompts, prompt editor" />
    <meta name="author" content="Siddhesh Sonar" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="theme-color" content="#111111" />

    <!-- Icons & PWA -->
    <link rel="icon" href="/res/favicon.ico" />
    <link rel="apple-touch-icon" href="/res/icon-192.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="application-name" content="Structured Prompt Builder" />
    <meta name="apple-mobile-web-app-title" content="Structured Prompt Builder" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Performance hints -->
    <link rel="preconnect" href="https://unpkg.com" crossorigin />
    <link rel="dns-prefetch" href="https://unpkg.com" />
    <!-- Preload hero image so LCP paints sooner -->
    <link rel="preload" as="image" href="/res/preview.webp" imagesrcset="/res/preview.webp" imagesizes="100vw" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://structured-prompt-builder.vercel.app/" />
    <meta property="og:title" content="Structured Prompt Builder | Free AI Prompt Engineering Tool" />
    <meta property="og:description" content="Free Structured Prompt Builder. Design, preview, and optimize AI prompts. Supports Markdown, JSON, YAML, and Gemini optimization." />
    <meta property="og:image" content="https://structured-prompt-builder.vercel.app/res/preview.png" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://structured-prompt-builder.vercel.app/" />
    <meta name="twitter:title" content="Structured Prompt Builder | Free AI Prompt Engineering Tool" />
    <meta name="twitter:description" content="Free Structured Prompt Builder. Create prompts with role, task, constraints, steps, inputs, and examples. Export JSON, YAML, Markdown. Local library + Gemini optimizer." />
    <meta name="twitter:image" content="https://structured-prompt-builder.vercel.app/res/preview.png" />

    <!-- Sitemap -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/crawler/sitemap.xml" />

    <!-- JSON-LD Schema.org (WebApplication) -->
    <script type="application/ld+json">{
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Structured Prompt Builder",
        "url": "https://structured-prompt-builder.vercel.app/",
        "description": "Free browser‑based AI prompt builder with structured fields, local prompt library, and Gemini optimization.",
        "applicationCategory": "AI Tool",
        "operatingSystem": "Any",
        "author": { "@type": "Person", "name": "Siddhesh Sonar" },
        "license": "https://opensource.org/licenses/MIT",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
        "image": "https://structured-prompt-builder.vercel.app/res/preview.png"
    }</script>

    <!-- Tailwind CDN (kept for now to avoid breaking styles) -->
    <script src="https://cdn.tailwindcss.com" defer></script>

    <!-- React UMD + ReactDOM UMD (defer to avoid blocking HTML parse) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin defer></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin defer></script>

    <!-- NOTE: In-browser Babel is heavy and delays FCP. Step 2 will remove it. For now, load it deferred. -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>

    <!-- Plain CSS (critical styles only) -->
    <style>
        :root { color-scheme: light dark; }
        .card { background:#fff; border:1px solid #e5e7eb; border-radius:.75rem; box-shadow:0 1px 2px rgba(0,0,0,.04); }
        .dark .card { background:#0a0a0a; border-color:#262626; }
        .field { width:100%; border:1px solid #d1d5db; border-radius:.375rem; padding:.5rem .75rem; font-size:.875rem; background:#fff; }
        .field:focus { outline:none; box-shadow:0 0 0 2px rgba(79,70,229,.4); border-color:#a5b4fc; }
        .dark .field { background:#0a0a0a; color:#fff; border-color:#404040; }
        .label { display:block; font-size:.875rem; font-weight:500; color:#374151; margin-bottom:.25rem; }
        .dark .label { color:#d4d4d4; }
        .btn { display:inline-flex; align-items:center; justify-content:center; border-radius:.375rem; padding:.5rem .75rem; font-size:.875rem; font-weight:500; transition:background .15s; }
        .btn-primary { color:#fff; background:#4f46e5; }
        .btn-primary:hover { background:#4338ca; }
        .btn-muted { background:#f3f4f6; color:#111827; }
        .btn-muted:hover { background:#e5e7eb; }
        .dark .btn-muted { background:#262626; color:#fff; }
        .dark .btn-muted:hover { background:#3f3f3f; }
        .tabs button { margin-right:.5rem; padding:.25rem .75rem; font-size:.875rem; font-weight:600; border-radius:.375rem; }
        .tabs .active { background:#4f46e5; color:#fff; }
        .tabs .inactive { background:#e5e7eb; color:#1f2937; }
        .dark .tabs .inactive { background:#262626; color:#e5e7eb; }
        .preview { background:#f9fafb; color:#0a0a0a; border:1px solid #e5e7eb; border-radius:.5rem; padding:.75rem; font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; font-size:.875rem; overflow:auto; }
        .dark .preview { background:#0a0a0a; color:#fafafa; border-color:#262626; }
        .reading .preview { font-family:ui-serif,Georgia,"Times New Roman",serif; line-height:1.75; font-size:.95rem; }
    </style>
</head>

<body class="bg-gray-100 dark:bg-neutral-950 font-sans">
<!-- Header (unchanged) -->
<!-- ... your header block ... -->

<main id="root" class="min-h-screen"></main>

<!-- No-JS info for crawlers/users -->
<noscript>
    <section class="max-w-6xl mx-auto px-4 py-8">
        <h2>About this tool</h2>
        <p>This site requires JavaScript to run the builder UI, but you can still read about features above. Enable JavaScript to use the app.</p>
        <picture>
            <source srcset="/res/preview.webp" type="image/webp" />
            <img src="/res/preview.png" alt="Structured Prompt Builder UI preview" width="1200" height="630" loading="lazy" decoding="async" />
        </picture>
    </section>
</noscript>

<!-- Theme/Reading toggles (kept; runs fast) -->
<script>
    (function () {
        const root = document.documentElement; const body = document.body;
        const storedTheme = localStorage.getItem('spb-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = storedTheme || (prefersDark ? 'dark' : 'light');
        if (theme === 'dark') root.classList.add('dark');
        const reading = localStorage.getItem('spb-reading') === '1';
        if (reading) body.classList.add('reading');
        document.getElementById('themeToggle')?.addEventListener('click', () => {
            root.classList.toggle('dark');
            localStorage.setItem('spb-theme', root.classList.contains('dark') ? 'dark' : 'light');
        });
        document.getElementById('readingToggle')?.addEventListener('click', () => {
            body.classList.toggle('reading');
            localStorage.setItem('spb-reading', body.classList.contains('reading') ? '1' : '0');
        });
    })();
</script>

<!-- Analytics & Speed Insights: load when idle (does not block paint) -->
<script>
    (function loadAnalyticsIdle(){
        const loader = () => {
            var s1 = document.createElement('script'); s1.src = '/_vercel/insights/script.js'; s1.defer = true; document.head.appendChild(s1);
            var s2 = document.createElement('script'); s2.src = '/_vercel/speed-insights/script.js'; s2.defer = true; document.head.appendChild(s2);
        };
        if ('requestIdleCallback' in window) requestIdleCallback(loader); else setTimeout(loader, 1500);
    })();
</script>

<!-- App scripts (deferred). NOTE: Step 2 will replace Babel with a prebuilt bundle. -->
<script type="text/babel" data-presets="env,react" src="./src/utils/jsonToYaml.js" defer></script>
<script type="text/babel" data-presets="env,react" src="./src/components/Section.jsx" defer></script>
<script type="text/babel" data-presets="env,react" src="./src/app.jsx" defer></script>
</body>
</html>
