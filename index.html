<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Structured Prompt Builder | Free Prompt Engineering Tool</title>
    <link rel="canonical" href="https://structured-prompt-builder.vercel.app/">

    <meta name="description" content="Build structured prompts with role, task, constraints, steps, inputs, and few-shot examples. Export to JSON, YAML, Markdown. Free, fast, and runs in your browser.">
    <meta name="keywords" content="structured prompt builder,prompt engineering tool,prompt template,few-shot,json schema,ai prompts">
    <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="theme-color" content="#111111">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://structured-prompt-builder.vercel.app/">
    <meta property="og:title" content="Structured Prompt Builder">
    <meta property="og:description" content="Craft structured prompts. Export JSON/YAML/Markdown. Free and browser-based.">
    <meta property="og:image" content="/og.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Structured Prompt Builder">
    <meta name="twitter:description" content="Craft structured prompts. Export JSON/YAML/Markdown. Free and browser-based.">
    <meta name="twitter:image" content="/og.png">

    <link rel="icon" href="/favicon.ico">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">

    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="dns-prefetch" href="https://unpkg.com">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"SoftwareApplication",
      "name":"Structured Prompt Builder",
      "applicationCategory":"DeveloperApplication",
      "operatingSystem":"Web",
      "description":"Build structured prompts with roles, tasks, constraints, steps, inputs, and few-shot examples. Export to JSON/YAML/Markdown.",
      "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
      "url":"https://structured-prompt-builder.vercel.app/"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"WebSite",
      "name":"Structured Prompt Builder",
      "url":"https://structured-prompt-builder.vercel.app/"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"What is Structured Prompt Builder?","acceptedAnswer":{"@type":"Answer","text":"A free, browser-based tool to compose structured prompts with role, task, constraints, steps, inputs, and few-shot examples."}},
        {"@type":"Question","name":"Can I export prompts?","acceptedAnswer":{"@type":"Answer","text":"Yes—export to JSON, YAML, or Markdown."}},
        {"@type":"Question","name":"Is it free?","acceptedAnswer":{"@type":"Answer","text":"Yes, it’s free and runs entirely in your browser."}}
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"HowTo",
      "name":"How to build a structured prompt",
      "step":[
        {"@type":"HowToStep","text":"Set Role and Task."},
        {"@type":"HowToStep","text":"Add Constraints and Steps."},
        {"@type":"HowToStep","text":"Define Inputs and optional Few-shot examples."},
        {"@type":"HowToStep","text":"Copy or export to JSON/YAML/Markdown."}
      ]
    }
    </script>

    <style>
      .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    </style>
  </head>

  <body class="bg-gray-100 font-sans">
    <header class="bg-white/90 border-b">
      <div class="max-w-6xl mx-auto px-4 py-6">
        <h1 class="text-2xl font-semibold">Structured Prompt Builder</h1>
        <p class="mt-1 text-sm text-gray-600">Compose production-ready prompts with role, task, constraints, steps, inputs, and few-shot. Export in one click.</p>
      </div>
    </header>

    <main id="root" class="min-h-screen"></main>

    <noscript>
      <section class="max-w-6xl mx-auto px-4 py-8">
        <h2>About this tool</h2>
        <p>This site requires JavaScript to run the builder UI, but you can still read about features above. Enable JavaScript to use the app.</p>
      </section>
    </noscript>

    <script type="text/babel" data-presets="env,react">
      function StructuredPromptBuilder() {
        const [role, setRole] = React.useState('');
        const [task, setTask] = React.useState('');
        const [audience, setAudience] = React.useState('');
        const [style, setStyle] = React.useState('');
        const [tone, setTone] = React.useState('');
        const [constraints, setConstraints] = React.useState([]);
        const [steps, setSteps] = React.useState([]);
        const [inputs, setInputs] = React.useState([]);
        const [examples, setExamples] = React.useState([]);
        const [temperature, setTemperature] = React.useState(0.7);
        const [topP, setTopP] = React.useState(1.0);
        const [maxTokens, setMaxTokens] = React.useState(1024);
        const [presencePenalty, setPresencePenalty] = React.useState(0.0);
        const [frequencyPenalty, setFrequencyPenalty] = React.useState(0.0);
        const [previewTab, setPreviewTab] = React.useState('markdown');

        const updateItem = (list, setList) => (i, v) => { const a=[...list]; a[i]=v; setList(a); };
        const moveItem = (list, setList) => (i, dir) => { const j=i+dir; if(j<0||j>=list.length) return; const a=[...list]; [a[i],a[j]]=[a[j],a[i]]; setList(a); };
        const removeItem = (list, setList) => (i) => setList(list.filter((_,x)=>x!==i));
        const addItem = (list, setList, v) => setList([...list, v]);

        const updateConstraint = updateItem(constraints, setConstraints);
        const moveConstraint   = moveItem(constraints, setConstraints);
        const removeConstraint = removeItem(constraints, setConstraints);

        const updateStep = updateItem(steps, setSteps);
        const moveStep   = moveItem(steps, setSteps);
        const removeStep = removeItem(steps, setSteps);

        const updateInput = updateItem(inputs, setInputs);
        const moveInput   = moveItem(inputs, setInputs);
        const removeInput = removeItem(inputs, setInputs);

        const updateExample = updateItem(examples, setExamples);
        const moveExample   = moveItem(examples, setExamples);
        const removeExample = removeItem(examples, setExamples);

        const buildPromptObject = () => ({
          role: role.trim() || undefined,
          task: task.trim() || undefined,
          audience: audience.trim() || undefined,
          style: style.trim() || undefined,
          tone: tone.trim() || undefined,
          constraints: constraints.filter(Boolean),
          steps: steps.filter(Boolean),
          inputs: inputs.filter(Boolean).map((s)=>{const p=s.split(':'); if(p.length>=2){const n=p.shift().trim(); return {name:n,value:p.join(':').trim()};} return {name:s.trim(),value:''};}),
          examples: examples.filter(Boolean),
          parameters: {
            temperature, top_p: topP, max_tokens: maxTokens,
            presence_penalty: presencePenalty, frequency_penalty: frequencyPenalty
          }
        });

        function jsonToYaml(obj, indent=0){
          const sp='  '.repeat(indent);
          if(Array.isArray(obj)) return obj.map(it=>{
            const nested=jsonToYaml(it, indent+1);
            return typeof it==='object' && it!==null ? `${sp}-\n${nested}` : `${sp}- ${nested.trim()}`
          }).join('\n');
          if(obj===null||obj===undefined) return 'null';
          if(typeof obj!=='object') return String(obj);
          return Object.keys(obj).filter(k=>obj[k]!==undefined).map(k=>{
            const v=obj[k];
            if(typeof v==='object' && v!==null){ return `${sp}${k}:\n${jsonToYaml(v, indent+1)}`; }
            return `${sp}${k}: ${jsonToYaml(v, indent+1).trim()}`;
          }).join('\n');
        }

        function generateMarkdown(){
          const o=buildPromptObject();
          let md='';
          if(o.role) md+=`**Role:** ${o.role}\n\n`;
          if(o.task) md+=`**Task:** ${o.task}\n\n`;
          if(o.audience) md+=`**Audience:** ${o.audience}\n\n`;
          if(o.style) md+=`**Style:** ${o.style}\n\n`;
          if(o.tone) md+=`**Tone:** ${o.tone}\n\n`;
          if(o.constraints?.length){ md+='**Constraints:**\n'; o.constraints.forEach(c=>md+=`- ${c}\n`); md+='\n'; }
          if(o.steps?.length){ md+='**Steps:**\n'; o.steps.forEach((s,i)=>md+=`${i+1}. ${s}\n`); md+='\n'; }
          if(o.inputs?.length){ md+='**Inputs:**\n'; o.inputs.forEach(inp=>md+=`- **${inp.name}**: ${inp.value}\n`); md+='\n'; }
          if(o.examples?.length){ md+='**Few-shot examples:**\n'; o.examples.forEach(ex=>md+=`- ${ex}\n`); md+='\n'; }
          md+=`**Parameters:**\n- Temperature: ${o.parameters.temperature}\n- Top-p: ${o.parameters.top_p}\n- Max tokens: ${o.parameters.max_tokens}\n- Presence penalty: ${o.parameters.presence_penalty}\n- Frequency penalty: ${o.parameters.frequency_penalty}`;
          return md.trim();
        }

        const promptObject   = buildPromptObject();
        const jsonString     = JSON.stringify(promptObject, null, 2);
        const yamlString     = jsonToYaml(promptObject);
        const markdownString = generateMarkdown();

        function downloadFile(name, content){
          const blob = new Blob([content], {type:'text/plain'});
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a'); a.href=url; a.download=name; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
        }

        function handleImport(e){
          const f=e.target.files[0]; if(!f) return;
          const reader=new FileReader();
          reader.onload=(ev)=>{ try{
            const d=JSON.parse(ev.target.result);
            setRole(d.role||''); setTask(d.task||''); setAudience(d.audience||''); setStyle(d.style||''); setTone(d.tone||'');
            setConstraints(d.constraints||[]); setSteps(d.steps||[]);
            setInputs((d.inputs||[]).map(inp=>inp.name&&inp.value?`${inp.name}: ${inp.value}`: (inp.name||'')));
            setExamples(d.examples||[]);
            if(d.parameters){ setTemperature(d.parameters.temperature ?? 0.7); setTopP(d.parameters.top_p ?? 1.0); setMaxTokens(d.parameters.max_tokens ?? 1024); setPresencePenalty(d.parameters.presence_penalty ?? 0.0); setFrequencyPenalty(d.parameters.frequency_penalty ?? 0.0); }
          }catch{ alert('Invalid JSON file'); } };
          reader.readAsText(f);
          e.target.value='';
        }

        const Section = ({title, description, items, onChange, onAdd, onRemove, onMove, placeholder}) => (
          <div className="mb-4">
            <h3 className="text-lg font-medium mb-1">{title}</h3>
            {description && <p className="text-xs text-gray-500 mb-2">{description}</p>}
            {items.map((item, index)=>(
              <div key={index} className="flex items-center mb-2">
                <input type="text" className="flex-grow border rounded p-2 mr-2" value={item} onChange={(e)=>onChange(index, e.target.value)} placeholder={placeholder}/>
                <div className="flex flex-col gap-1 mr-2">
                  <button className="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300" onClick={()=>onMove(index,-1)} disabled={index===0} title="Move up">↑</button>
                  <button className="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300" onClick={()=>onMove(index,1)} disabled={index===items.length-1} title="Move down">↓</button>
                </div>
                <button className="px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600" onClick={()=>onRemove(index)} title="Remove">×</button>
              </div>
            ))}
            <button className="mt-2 bg-gray-300 hover:bg-gray-400 text-sm px-3 py-1 rounded" onClick={onAdd}>Add {title.slice(0,-1)}</button>
          </div>
        );

        const copyToClipboard = (s)=>navigator.clipboard.writeText(s).then(()=>alert('Copied to clipboard!')).catch(()=>alert('Failed to copy.'));

        return (
          <div className="flex flex-col lg:flex-row p-4 gap-4">
            <div className="flex-1 bg-white rounded-lg shadow p-4 overflow-y-auto">
              <h2 className="text-xl font-semibold mb-2">Prompt Composition</h2>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Role</label>
                <input type="text" className="w-full border rounded p-2" value={role} onChange={(e)=>setRole(e.target.value)} placeholder="e.g. Helpful AI assistant"/>
              </div>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Task</label>
                <input type="text" className="w-full border rounded p-2" value={task} onChange={(e)=>setTask(e.target.value)} placeholder="Describe what you want the model to do"/>
              </div>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Audience</label>
                <input type="text" className="w-full border rounded p-2" value={audience} onChange={(e)=>setAudience(e.target.value)} placeholder="Who is the prompt for?"/>
              </div>
              <div className="mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-medium mb-1">Style</label>
                  <input type="text" className="w-full border rounded p-2" value={style} onChange={(e)=>setStyle(e.target.value)} placeholder="e.g. Formal, casual"/>
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Tone</label>
                  <input type="text" className="w-full border rounded p-2" value={tone} onChange={(e)=>setTone(e.target.value)} placeholder="e.g. Friendly, neutral"/>
                </div>
              </div>

              <Section title="Constraints" items={constraints} onChange={updateConstraint} onAdd={()=>addItem(constraints,setConstraints,'')} onRemove={removeConstraint} onMove={moveConstraint} placeholder="Add a constraint (e.g. Do not mention brand names)"/>
              <Section title="Steps" items={steps} onChange={updateStep} onAdd={()=>addItem(steps,setSteps,'')} onRemove={removeStep} onMove={moveStep} placeholder="Add a step (e.g. Research the topic)"/>
              <Section title="Inputs" description="Use the format name: value" items={inputs} onChange={updateInput} onAdd={()=>addItem(inputs,setInputs,'')} onRemove={removeInput} onMove={moveInput} placeholder="e.g. topic: Artificial Intelligence"/>
              <Section title="Few-shot examples" items={examples} onChange={updateExample} onAdd={()=>addItem(examples,setExamples,'')} onRemove={removeExample} onMove={moveExample} placeholder="Add an example"/>

              <div className="mt-4">
                <label className="block text-sm font-medium mb-1">Import from JSON</label>
                <input type="file" accept="application/json" onChange={handleImport} className="cursor-pointer"/>
              </div>
            </div>

            <div className="flex-1 bg-white rounded-lg shadow p-4 overflow-y-auto">
              <h2 className="text-xl font-semibold mb-2">Model Parameters & Preview</h2>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div><label className="block text-sm font-medium mb-1">Temperature</label><input type="number" step="0.01" min="0" max="1" className="w-full border rounded p-2" value={temperature} onChange={(e)=>setTemperature(parseFloat(e.target.value))}/></div>
                <div><label className="block text-sm font-medium mb-1">Top-p</label><input type="number" step="0.01" min="0" max="1" className="w-full border rounded p-2" value={topP} onChange={(e)=>setTopP(parseFloat(e.target.value))}/></div>
                <div><label className="block text-sm font-medium mb-1">Max tokens</label><input type="number" min="1" className="w-full border rounded p-2" value={maxTokens} onChange={(e)=>setMaxTokens(parseInt(e.target.value,10)||0)}/></div>
                <div><label className="block text-sm font-medium mb-1">Presence penalty</label><input type="number" step="0.01" min="-2" max="2" className="w-full border rounded p-2" value={presencePenalty} onChange={(e)=>setPresencePenalty(parseFloat(e.target.value))}/></div>
                <div><label className="block text-sm font-medium mb-1">Frequency penalty</label><input type="number" step="0.01" min="-2" max="2" className="w-full border rounded p-2" value={frequencyPenalty} onChange={(e)=>setFrequencyPenalty(parseFloat(e.target.value))}/></div>
              </div>

              <div className="mb-2 border-b">
                <nav className="flex">
                  {['markdown','json','yaml'].map(tab=>(
                    <button key={tab} className={`mr-2 px-3 py-1 text-sm font-medium rounded-t ${previewTab===tab?'bg-blue-500 text-white':'bg-gray-200 text-gray-700'}`} onClick={()=>setPreviewTab(tab)}>{tab.toUpperCase()}</button>
                  ))}
                </nav>
              </div>

              <div className="mb-4 h-64 overflow-auto border rounded p-2 bg-gray-50 font-mono text-sm whitespace-pre-wrap">
                {previewTab==='markdown' && <pre>{markdownString}</pre>}
                {previewTab==='json' && <pre>{jsonString}</pre>}
                {previewTab==='yaml' && <pre>{yamlString}</pre>}
              </div>

              <div className="flex flex-wrap gap-2">
                <button className="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded" onClick={()=>copyToClipboard(previewTab==='markdown'?markdownString:previewTab==='json'?jsonString:yamlString)}>Copy {previewTab.toUpperCase()}</button>
                <button className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded" onClick={()=>downloadFile('prompt.md', markdownString)}>Download MD</button>
                <button className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded" onClick={()=>downloadFile('prompt.json', jsonString)}>Download JSON</button>
                <button className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded" onClick={()=>downloadFile('prompt.yaml', yamlString)}>Download YAML</button>
              </div>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById('root')).render(<StructuredPromptBuilder />);
    </script>
  </body>
</html>
