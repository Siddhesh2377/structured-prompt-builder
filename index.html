<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Structured Prompt Builder | Free Prompt Engineering Tool</title>
    <link rel="canonical" href="https://structured-prompt-builder.vercel.app/">

    <meta name="description" content="Build structured prompts with role, task, constraints, steps, inputs, and few-shot examples. Export to JSON, YAML, Markdown. Free, fast, and runs in your browser.">
    <meta name="keywords" content="structured prompt builder,prompt engineering tool,prompt template,few-shot,json schema,ai prompts">
    <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1">
    <meta name="theme-color" content="#111111">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://structured-prompt-builder.vercel.app/">
    <meta property="og:title" content="Structured Prompt Builder">
    <meta property="og:description" content="Craft structured prompts. Export JSON/YAML/Markdown. Free and browser-based.">
    <meta property="og:image" content="/og.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Structured Prompt Builder">
    <meta name="twitter:description" content="Craft structured prompts. Export JSON/YAML/Markdown. Free and browser-based.">
    <meta name="twitter:image" content="/og.png">

    <link rel="icon" href="/favicon.ico">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">

    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="dns-prefetch" href="https://unpkg.com">

    <!-- If you used Tailwind CDN before, keep this. Otherwise remove. -->
    <script src="https://cdn.tailwindcss.com" defer></script>

    <!-- Production React UMD for speed -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin defer></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin defer></script>

    <!-- SoftwareApplication + WebSite + FAQPage + HowTo: helps “AI SEO” and rich results -->
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"SoftwareApplication",
      "name":"Structured Prompt Builder",
      "applicationCategory":"DeveloperApplication",
      "operatingSystem":"Web",
      "description":"Build structured prompts with roles, tasks, constraints, steps, inputs, and few-shot examples. Export to JSON/YAML/Markdown.",
      "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
      "url":"https://structured-prompt-builder.vercel.app/"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"WebSite",
      "name":"Structured Prompt Builder",
      "url":"https://structured-prompt-builder.vercel.app/"
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"FAQPage",
      "mainEntity":[
        {"@type":"Question","name":"What is Structured Prompt Builder?","acceptedAnswer":{"@type":"Answer","text":"A free, browser-based tool to compose structured prompts with role, task, constraints, steps, inputs, and few-shot examples."}},
        {"@type":"Question","name":"Can I export prompts?","acceptedAnswer":{"@type":"Answer","text":"Yes—export to JSON, YAML, or Markdown."}},
        {"@type":"Question","name":"Is it free?","acceptedAnswer":{"@type":"Answer","text":"Yes, it’s free and runs entirely in your browser."}}
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"HowTo",
      "name":"How to build a structured prompt",
      "step":[
        {"@type":"HowToStep","text":"Set Role and Task."},
        {"@type":"HowToStep","text":"Add Constraints and Steps."},
        {"@type":"HowToStep","text":"Define Inputs and optional Few-shot examples."},
        {"@type":"HowToStep","text":"Copy or export to JSON/YAML/Markdown."}
      ]
    }
    </script>
  </head>
  <body class="bg-gray-100 font-sans">
    <header class="bg-white/90 border-b">
      <div class="max-w-6xl mx-auto px-4 py-6">
        <h1 class="text-2xl font-semibold">Structured Prompt Builder</h1>
        <p class="mt-1 text-sm text-gray-600">Compose production-ready prompts with role, task, constraints, steps, inputs, and few-shot. Export in one click.</p>
      </div>
    </header>

    <main id="root" class="min-h-screen"></main>

    <noscript>
      <section class="max-w-6xl mx-auto px-4 py-8">
        <h2>About this tool</h2>
        <p>This site requires JavaScript to run the builder UI, but you can still read about features above. Enable JavaScript to use the app.</p>
      </section>
    </noscript>
    
    <!-- Accessible heading for SEO. Hidden visually but available to crawlers and screen readers. -->
    <h1 class="sr-only">Structured Prompt Builder</h1>
    <div id="root" class="min-h-screen"></div>
    <script type="text/babel">
      /**
       * StructuredPromptBuilder
       *
       * A single page React application to assemble structured prompts for
       * large language models. The UI consists of two panes: the left side
       * for composing prompt pieces (role, task, audience, style, tone,
       * constraints, steps, inputs and few-shot examples) and the right
       * side for configuring core model parameters and previewing the
       * resulting prompt in Markdown, JSON and YAML formats. Users can
       * import existing prompt JSON files, export their prompt to any
       * supported format, copy the content to their clipboard and
       * download a file directly from the browser.
       */
      function StructuredPromptBuilder() {
        // Scalar fields
        const [role, setRole] = React.useState('');
        const [task, setTask] = React.useState('');
        const [audience, setAudience] = React.useState('');
        const [style, setStyle] = React.useState('');
        const [tone, setTone] = React.useState('');

        // Dynamic lists
        const [constraints, setConstraints] = React.useState([]);
        const [steps, setSteps] = React.useState([]);
        const [inputs, setInputs] = React.useState([]);
        const [examples, setExamples] = React.useState([]);

        // Core model parameters
        const [temperature, setTemperature] = React.useState(0.7);
        const [topP, setTopP] = React.useState(1.0);
        const [maxTokens, setMaxTokens] = React.useState(1024);
        const [presencePenalty, setPresencePenalty] = React.useState(0.0);
        const [frequencyPenalty, setFrequencyPenalty] = React.useState(0.0);

        // Preview tab selection
        const [previewTab, setPreviewTab] = React.useState('markdown');

        /**
         * Helper to update an item in a list by index
         */
        function updateItem(list, setList) {
          return (index, newValue) => {
            const updated = [...list];
            updated[index] = newValue;
            setList(updated);
          };
        }

        /**
         * Helper to move an item in a list up or down
         */
        function moveItem(list, setList) {
          return (index, direction) => {
            const newIndex = index + direction;
            if (newIndex < 0 || newIndex >= list.length) return;
            const reordered = [...list];
            const temp = reordered[index];
            reordered[index] = reordered[newIndex];
            reordered[newIndex] = temp;
            setList(reordered);
          };
        }

        /**
         * Helper to add a new item to a list
         */
        function addItem(list, setList, defaultValue) {
          setList([...list, defaultValue]);
        }

        /**
         * Helper to remove an item from a list
         */
        function removeItem(list, setList) {
          return (index) => {
            const updated = list.filter((_, i) => i !== index);
            setList(updated);
          };
        }

        // Specific operations per list
        const updateConstraint = updateItem(constraints, setConstraints);
        const moveConstraint = moveItem(constraints, setConstraints);
        const removeConstraint = removeItem(constraints, setConstraints);

        const updateStep = updateItem(steps, setSteps);
        const moveStep = moveItem(steps, setSteps);
        const removeStep = removeItem(steps, setSteps);

        const updateInput = updateItem(inputs, setInputs);
        const moveInput = moveItem(inputs, setInputs);
        const removeInput = removeItem(inputs, setInputs);

        const updateExample = updateItem(examples, setExamples);
        const moveExample = moveItem(examples, setExamples);
        const removeExample = removeItem(examples, setExamples);

        /**
         * Generate a prompt object from the current state
         */
        function buildPromptObject() {
          return {
            role: role.trim() || undefined,
            task: task.trim() || undefined,
            audience: audience.trim() || undefined,
            style: style.trim() || undefined,
            tone: tone.trim() || undefined,
            constraints: constraints.filter(Boolean),
            steps: steps.filter(Boolean),
            inputs: inputs
              .filter(Boolean)
              .map((item) => {
                const parts = item.split(':');
                if (parts.length >= 2) {
                  const name = parts.shift().trim();
                  const value = parts.join(':').trim();
                  return { name, value };
                }
                return { name: item.trim(), value: '' };
              }),
            examples: examples.filter(Boolean),
            parameters: {
              temperature,
              top_p: topP,
              max_tokens: maxTokens,
              presence_penalty: presencePenalty,
              frequency_penalty: frequencyPenalty,
            },
          };
        }

        /**
         * Convert a JavaScript object to YAML. This is a simple
         * implementation suitable for the prompt structures used in
         * this application. It does not support all possible YAML
         * constructs but covers nested objects and arrays of scalars
         * and objects.
         */
        function jsonToYaml(obj, indent = 0) {
          const spacing = '  '.repeat(indent);
          if (Array.isArray(obj)) {
            return obj
              .map((item) => {
                const nested = jsonToYaml(item, indent + 1);
                if (typeof item === 'object' && item !== null) {
                  return `${spacing}-\n${nested}`;
                }
                return `${spacing}- ${nested.trim()}`;
              })
              .join('\n');
          }
          if (obj === null || obj === undefined) {
            return 'null';
          }
          if (typeof obj !== 'object') {
            return String(obj);
          }
          return Object.keys(obj)
            .filter((key) => obj[key] !== undefined)
            .map((key) => {
              const value = obj[key];
              if (typeof value === 'object' && value !== null) {
                const nested = jsonToYaml(value, indent + 1);
                return `${spacing}${key}:\n${nested}`;
              }
              return `${spacing}${key}: ${jsonToYaml(value, indent + 1).trim()}`;
            })
            .join('\n');
        }

        /**
         * Generate a Markdown representation of the prompt
         */
        function generateMarkdown() {
          const obj = buildPromptObject();
          let md = '';
          if (obj.role) md += `**Role:** ${obj.role}\n\n`;
          if (obj.task) md += `**Task:** ${obj.task}\n\n`;
          if (obj.audience) md += `**Audience:** ${obj.audience}\n\n`;
          if (obj.style) md += `**Style:** ${obj.style}\n\n`;
          if (obj.tone) md += `**Tone:** ${obj.tone}\n\n`;
          if (obj.constraints && obj.constraints.length) {
            md += '**Constraints:**\n';
            obj.constraints.forEach((c) => {
              md += `- ${c}\n`;
            });
            md += '\n';
          }
          if (obj.steps && obj.steps.length) {
            md += '**Steps:**\n';
            obj.steps.forEach((s, idx) => {
              md += `${idx + 1}. ${s}\n`;
            });
            md += '\n';
          }
          if (obj.inputs && obj.inputs.length) {
            md += '**Inputs:**\n';
            obj.inputs.forEach((inp) => {
              md += `- **${inp.name}**: ${inp.value}\n`;
            });
            md += '\n';
          }
          if (obj.examples && obj.examples.length) {
            md += '**Few-shot examples:**\n';
            obj.examples.forEach((ex) => {
              md += `- ${ex}\n`;
            });
            md += '\n';
          }
          md += '**Parameters:**\n';
          md += `- Temperature: ${obj.parameters.temperature}\n`;
          md += `- Top-p: ${obj.parameters.top_p}\n`;
          md += `- Max tokens: ${obj.parameters.max_tokens}\n`;
          md += `- Presence penalty: ${obj.parameters.presence_penalty}\n`;
          md += `- Frequency penalty: ${obj.parameters.frequency_penalty}\n`;
          return md.trim();
        }

        /**
         * Prepare JSON, YAML and Markdown strings for preview and export
         */
        const promptObject = buildPromptObject();
        const jsonString = JSON.stringify(promptObject, null, 2);
        const yamlString = jsonToYaml(promptObject);
        const markdownString = generateMarkdown();

        /**
         * Trigger file download for a given filename and content
         */
        function downloadFile(filename, content) {
          const blob = new Blob([content], { type: 'text/plain' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = filename;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        }

        /**
         * Import prompt from uploaded JSON file
         */
        function handleImport(event) {
          const file = event.target.files[0];
          if (!file) return;
          const reader = new FileReader();
          reader.onload = (e) => {
            try {
              const data = JSON.parse(e.target.result);
              setRole(data.role || '');
              setTask(data.task || '');
              setAudience(data.audience || '');
              setStyle(data.style || '');
              setTone(data.tone || '');
              setConstraints(data.constraints || []);
              setSteps(data.steps || []);
              setInputs(
                (data.inputs || []).map((inp) =>
                  inp.name && inp.value
                    ? `${inp.name}: ${inp.value}`
                    : inp.name || ''
                )
              );
              setExamples(data.examples || []);
              if (data.parameters) {
                setTemperature(
                  data.parameters.temperature !== undefined
                    ? data.parameters.temperature
                    : 0.7
                );
                setTopP(
                  data.parameters.top_p !== undefined ? data.parameters.top_p : 1.0
                );
                setMaxTokens(
                  data.parameters.max_tokens !== undefined
                    ? data.parameters.max_tokens
                    : 1024
                );
                setPresencePenalty(
                  data.parameters.presence_penalty !== undefined
                    ? data.parameters.presence_penalty
                    : 0.0
                );
                setFrequencyPenalty(
                  data.parameters.frequency_penalty !== undefined
                    ? data.parameters.frequency_penalty
                    : 0.0
                );
              }
            } catch (err) {
              alert('Invalid JSON file');
            }
          };
          reader.readAsText(file);
          // Reset the input value so the same file can be re-imported
          event.target.value = '';
        }

        /**
         * Copy content to clipboard
         */
        function copyToClipboard(content) {
          navigator.clipboard
            .writeText(content)
            .then(() => alert('Copied to clipboard!'))
            .catch(() => alert('Failed to copy.'));
        }

        return (
          <div className="flex flex-col lg:flex-row p-4 gap-4">
            {/* Left pane: prompt composition */}
            <div className="flex-1 bg-white rounded-lg shadow p-4 overflow-y-auto">
              <h2 className="text-xl font-semibold mb-2">Prompt Composition</h2>
              {/* Scalar fields */}
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Role</label>
                <input
                  type="text"
                  className="w-full border rounded p-2"
                  value={role}
                  onChange={(e) => setRole(e.target.value)}
                  placeholder="e.g. Helpful AI assistant"
                />
              </div>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Task</label>
                <input
                  type="text"
                  className="w-full border rounded p-2"
                  value={task}
                  onChange={(e) => setTask(e.target.value)}
                  placeholder="Describe what you want the model to do"
                />
              </div>
              <div className="mb-4">
                <label className="block text-sm font-medium mb-1">Audience</label>
                <input
                  type="text"
                  className="w-full border rounded p-2"
                  value={audience}
                  onChange={(e) => setAudience(e.target.value)}
                  placeholder="Who is the prompt for?"
                />
              </div>
              <div className="mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label className="block text-sm font-medium mb-1">Style</label>
                  <input
                    type="text"
                    className="w-full border rounded p-2"
                    value={style}
                    onChange={(e) => setStyle(e.target.value)}
                    placeholder="e.g. Formal, casual"
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Tone</label>
                  <input
                    type="text"
                    className="w-full border rounded p-2"
                    value={tone}
                    onChange={(e) => setTone(e.target.value)}
                    placeholder="e.g. Friendly, neutral"
                  />
                </div>
              </div>
              {/* Constraints list */}
              <Section
                title="Constraints"
                items={constraints}
                onChange={updateConstraint}
                onAdd={() => addItem(constraints, setConstraints, '')}
                onRemove={removeConstraint}
                onMove={moveConstraint}
                placeholder="Add a constraint (e.g. Do not mention brand names)"
              />
              {/* Steps list */}
              <Section
                title="Steps"
                items={steps}
                onChange={updateStep}
                onAdd={() => addItem(steps, setSteps, '')}
                onRemove={removeStep}
                onMove={moveStep}
                placeholder="Add a step (e.g. Research the topic)"
              />
              {/* Inputs list */}
              <Section
                title="Inputs"
                description="Use the format name: value"
                items={inputs}
                onChange={updateInput}
                onAdd={() => addItem(inputs, setInputs, '')}
                onRemove={removeInput}
                onMove={moveInput}
                placeholder="e.g. topic: Artificial Intelligence"
              />
              {/* Few-shot examples list */}
              <Section
                title="Few-shot examples"
                items={examples}
                onChange={updateExample}
                onAdd={() => addItem(examples, setExamples, '')}
                onRemove={removeExample}
                onMove={moveExample}
                placeholder="Add an example"
              />
              {/* Import JSON button */}
              <div className="mt-4">
                <label className="block text-sm font-medium mb-1">Import from JSON</label>
                <input
                  type="file"
                  accept="application/json"
                  onChange={handleImport}
                  className="cursor-pointer"
                />
              </div>
            </div>
            {/* Right pane: parameters and preview */}
            <div className="flex-1 bg-white rounded-lg shadow p-4 overflow-y-auto">
              <h2 className="text-xl font-semibold mb-2">Model Parameters & Preview</h2>
              {/* Parameter controls */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label className="block text-sm font-medium mb-1">Temperature</label>
                  <input
                    type="number"
                    step="0.01"
                    min="0"
                    max="1"
                    className="w-full border rounded p-2"
                    value={temperature}
                    onChange={(e) => setTemperature(parseFloat(e.target.value))}
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Top-p</label>
                  <input
                    type="number"
                    step="0.01"
                    min="0"
                    max="1"
                    className="w-full border rounded p-2"
                    value={topP}
                    onChange={(e) => setTopP(parseFloat(e.target.value))}
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Max tokens</label>
                  <input
                    type="number"
                    min="1"
                    className="w-full border rounded p-2"
                    value={maxTokens}
                    onChange={(e) => setMaxTokens(parseInt(e.target.value, 10) || 0)}
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Presence penalty</label>
                  <input
                    type="number"
                    step="0.01"
                    min="-2"
                    max="2"
                    className="w-full border rounded p-2"
                    value={presencePenalty}
                    onChange={(e) => setPresencePenalty(parseFloat(e.target.value))}
                  />
                </div>
                <div>
                  <label className="block text-sm font-medium mb-1">Frequency penalty</label>
                  <input
                    type="number"
                    step="0.01"
                    min="-2"
                    max="2"
                    className="w-full border rounded p-2"
                    value={frequencyPenalty}
                    onChange={(e) => setFrequencyPenalty(parseFloat(e.target.value))}
                  />
                </div>
              </div>
              {/* Preview tabs */}
              <div className="mb-2 border-b">
                <nav className="flex">
                  {['markdown', 'json', 'yaml'].map((tab) => (
                    <button
                      key={tab}
                      className={`mr-2 px-3 py-1 text-sm font-medium rounded-t ${
                        previewTab === tab
                          ? 'bg-blue-500 text-white'
                          : 'bg-gray-200 text-gray-700'
                      }`}
                      onClick={() => setPreviewTab(tab)}
                    >
                      {tab.toUpperCase()}
                    </button>
                  ))}
                </nav>
              </div>
              {/* Preview content */}
              <div className="mb-4 h-64 overflow-auto border rounded p-2 bg-gray-50 font-mono text-sm whitespace-pre-wrap">
                {previewTab === 'markdown' && <pre>{markdownString}</pre>}
                {previewTab === 'json' && <pre>{jsonString}</pre>}
                {previewTab === 'yaml' && <pre>{yamlString}</pre>}
              </div>
              {/* Export & copy buttons */}
              <div className="flex flex-wrap gap-2">
                <button
                  className="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded"
                  onClick={() => copyToClipboard(
                    previewTab === 'markdown'
                      ? markdownString
                      : previewTab === 'json'
                      ? jsonString
                      : yamlString
                  )}
                >
                  Copy {previewTab.toUpperCase()}
                </button>
                <button
                  className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded"
                  onClick={() => downloadFile('prompt.md', markdownString)}
                >
                  Download MD
                </button>
                <button
                  className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded"
                  onClick={() => downloadFile('prompt.json', jsonString)}
                >
                  Download JSON
                </button>
                <button
                  className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded"
                  onClick={() => downloadFile('prompt.yaml', yamlString)}
                >
                  Download YAML
                </button>
              </div>
            </div>
          </div>
        );
      }

      /**
       * Section component for repeated list inputs.
       * Props:
       * - title: section heading
       * - description: optional descriptive text
       * - items: array of strings
       * - onChange(index, value): update callback for each item
       * - onAdd(): callback to add a new item
       * - onRemove(index): callback to remove an item
       * - onMove(index, direction): callback to reorder items (direction -1 = up, +1 = down)
       * - placeholder: placeholder for each input field
       */
      function Section({
        title,
        description,
        items,
        onChange,
        onAdd,
        onRemove,
        onMove,
        placeholder,
      }) {
        return (
          <div className="mb-4">
            <h3 className="text-lg font-medium mb-1">{title}</h3>
            {description && <p className="text-xs text-gray-500 mb-2">{description}</p>}
            {items.map((item, index) => (
              <div key={index} className="flex items-center mb-2">
                <input
                  type="text"
                  className="flex-grow border rounded p-2 mr-2"
                  value={item}
                  onChange={(e) => onChange(index, e.target.value)}
                  placeholder={placeholder}
                />
                <div className="flex flex-col gap-1 mr-2">
                  <button
                    className="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300"
                    onClick={() => onMove(index, -1)}
                    disabled={index === 0}
                    title="Move up"
                  >
                    ↑
                  </button>
                  <button
                    className="px-2 py-1 bg-gray-200 rounded hover:bg-gray-300"
                    onClick={() => onMove(index, 1)}
                    disabled={index === items.length - 1}
                    title="Move down"
                  >
                    ↓
                  </button>
                </div>
                <button
                  className="px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600"
                  onClick={() => onRemove(index)}
                  title="Remove"
                >
                  ×
                </button>
              </div>
            ))}
            <button
              className="mt-2 bg-gray-300 hover:bg-gray-400 text-sm px-3 py-1 rounded"
              onClick={onAdd}
            >
              Add {title.slice(0, -1)}
            </button>
          </div>
        );
      }

      // Render the app
      ReactDOM.createRoot(document.getElementById('root')).render(
        <StructuredPromptBuilder />
      );
    </script>

    <script defer>
      const e = React.createElement;
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(e('div', null, 'App mounts here (your current React code bundle attaches in your project).'));
    </script>
  </body>
</html>
